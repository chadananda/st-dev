import{S as e,i as t,s as a,e as s,b as l,f as i,d as r,h as n,k as c,n as o,a as p,t as h,q as m,c as d,g as u,l as g,w as f,O as v,T as y,U as E,G as b,V as w,j as x,m as I,N as k,C as D,o as V,R,W as j}from"./client.f661b37e.js";function T(e){let t;return{c(){t=s("div"),this.h()},l(e){t=l(e,"DIV",{id:!0,class:!0,"data-plyr-provider":!0,"data-plyr-embed-id":!0}),i(t).forEach(r),this.h()},h(){n(t,"id","player"),n(t,"class","plyr__video-embed svelte-n302lo"),n(t,"data-plyr-provider","youtube"),n(t,"data-plyr-embed-id",e[0])},m(e,a){c(e,t,a)},p:o,i:o,o:o,d(e){e&&r(t)}}}function B(e,t,a){let{item:s}=t,l=s.meta.href.split("=")[1],i=function(){let e,t=document.getElementById("player");t?e=new Plyr(t):setTimeout(i,20)};return i(),e.$$set=e=>{"item"in e&&a(1,s=e.item)},[l,s]}class O extends e{constructor(e){super(),t(this,e,B,T,a,{item:1})}}function S(e,t,a){const s=e.slice();return s[15]=t[a],s}function $(e,t,a){const s=e.slice();return s[15]=t[a],s}function N(e){let t,a=e[1],s=[];for(let t=0;t<a.length;t+=1)s[t]=G(S(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=D()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=D()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);c(e,t,a)},p(e,l){if(55&l){let i;for(a=e[1],i=0;i<a.length;i+=1){const r=S(e,a,i);s[i]?s[i].p(r,l):(s[i]=G(r),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}},d(e){V(s,e),e&&r(t)}}}function P(e){let t,a=Array(1),s=[];for(let t=0;t<a.length;t+=1)s[t]=M($(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=D()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=D()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);c(e,t,a)},p:o,d(e){V(s,e),e&&r(t)}}}function q(e){let t,a,i,o;return{c(){t=s("img"),this.h()},l(e){t=l(e,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){n(t,"class","pin w-6 absolute right-0 bottom-0 svelte-6s7na8"),t.src!==(a="/pin.svg")&&n(t,"src","/pin.svg"),n(t,"alt","pin item")},m(a,s){c(a,t,s),i||(o=f(t,"click",j((function(){w(e[4](e[15].meta.id))&&e[4](e[15].meta.id).apply(this,arguments)}))),i=!0)},p(t,a){e=t},d(e){e&&r(t),i=!1,o()}}}function _(e){let t,a,i,o;return{c(){t=s("img"),this.h()},l(e){t=l(e,"IMG",{class:!0,src:!0,alt:!0,onmouseover:!0,onmouseout:!0}),this.h()},h(){n(t,"class","unpin w-4 absolute right-0 bottom-0 svelte-6s7na8"),t.src!==(a="/pin.svg")&&n(t,"src","/pin.svg"),n(t,"alt","unpin item"),n(t,"onmouseover","this.src='/unpin.svg'"),n(t,"onmouseout","this.src='/pin.svg'")},m(a,s){c(a,t,s),i||(o=f(t,"click",j((function(){w(e[5](e[15].meta.id))&&e[5](e[15].meta.id).apply(this,arguments)}))),i=!0)},p(t,a){e=t},d(e){e&&r(t),i=!1,o()}}}function C(e){let t;return{c(){t=s("div"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0}),i(t).forEach(r),this.h()},h(){n(t,"class","vidimg svelte-6s7na8"),x(t,"background-image","url("+e[15].image.src+")")},m(e,a){c(e,t,a)},p(e,a){2&a&&x(t,"background-image","url("+e[15].image.src+")")},d(e){e&&r(t)}}}function G(e){let t,a,o,m,v,y,E,x,D,V,R,j,T,B,O,S,$,N,P,G,M,A,W,J=e[15].title+"",L=e[15].meta.presenters+"",U=(""+e[15].meta.hours).split(":").slice(0,2).join(":")+"";function z(e,t){return e[0][e[15].meta.id]?_:q}let F=z(e),H=F(e),K=e[15].image&&C(e);return{c(){t=s("div"),H.c(),a=p(),o=s("img"),v=p(),y=s("div"),E=s("div"),K&&K.c(),x=p(),D=s("div"),V=s("div"),R=h(J),j=p(),T=s("div"),B=s("div"),O=h(L),S=p(),$=s("div"),N=h(U),M=p(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=i(t);H.l(s),a=d(s),o=l(s,"IMG",{class:!0,src:!0,alt:!0}),v=d(s),y=l(s,"DIV",{class:!0,itemscope:!0,itemtype:!0});var n=i(y);E=l(n,"DIV",{class:!0});var c=i(E);K&&K.l(c),c.forEach(r),x=d(n),D=l(n,"DIV",{class:!0});var p=i(D);V=l(p,"DIV",{name:!0,itemprop:!0,class:!0});var h=i(V);R=u(h,J),h.forEach(r),j=d(p),T=l(p,"DIV",{class:!0});var m=i(T);B=l(m,"DIV",{class:!0});var g=i(B);O=u(g,L),g.forEach(r),S=d(m),$=l(m,"DIV",{class:!0,itemprop:!0,value:!0});var f=i($);N=u(f,U),f.forEach(r),m.forEach(r),p.forEach(r),n.forEach(r),M=d(s),s.forEach(r),this.h()},h(){n(o,"class","play w-12 absolute svelte-6s7na8"),o.src!==(m="/play.svg")&&n(o,"src","/play.svg"),n(o,"alt","play item"),n(E,"class","image svelte-6s7na8"),b(E,"empty",!e[15].image||!e[15].image.src),n(V,"name","title"),n(V,"itemprop","name"),n(V,"class","title svelte-6s7na8"),b(V,"short",e[15].title.length<30),n(B,"class","presenter svelte-6s7na8"),n($,"class","duration svelte-6s7na8"),n($,"itemprop","duration"),n($,"value",P=e[15].meta.duration),n(T,"class","cardbottom svelte-6s7na8"),n(D,"class","details svelte-6s7na8"),n(y,"class","card svelte-6s7na8"),n(y,"itemscope",""),n(y,"itemtype",G="https://schema.org/"+(e[15].meta[e[15].meta.schema.type]||e[15].meta.schema.type||"Thing")),n(t,"class","media group relative svelte-6s7na8")},m(s,l){c(s,t,l),H.m(t,null),g(t,a),g(t,o),g(t,v),g(t,y),g(y,E),K&&K.m(E,null),g(y,x),g(y,D),g(D,V),g(V,R),g(D,j),g(D,T),g(T,B),g(B,O),g(T,S),g(T,$),g($,N),g(t,M),A||(W=[f(o,"click.stopPropagation",(function(){w(e[4](e[15].meta.id))&&e[4](e[15].meta.id).apply(this,arguments)})),f(t,"click",(function(){w(e[2](e[15]))&&e[2](e[15]).apply(this,arguments)}))],A=!0)},p(s,l){F===(F=z(e=s))&&H?H.p(e,l):(H.d(1),H=F(e),H&&(H.c(),H.m(t,a))),e[15].image?K?K.p(e,l):(K=C(e),K.c(),K.m(E,null)):K&&(K.d(1),K=null),2&l&&b(E,"empty",!e[15].image||!e[15].image.src),2&l&&J!==(J=e[15].title+"")&&I(R,J),2&l&&b(V,"short",e[15].title.length<30),2&l&&L!==(L=e[15].meta.presenters+"")&&I(O,L),2&l&&U!==(U=(""+e[15].meta.hours).split(":").slice(0,2).join(":")+"")&&I(N,U),2&l&&P!==(P=e[15].meta.duration)&&n($,"value",P),2&l&&G!==(G="https://schema.org/"+(e[15].meta[e[15].meta.schema.type]||e[15].meta.schema.type||"Thing"))&&n(y,"itemtype",G)},d(e){e&&r(t),H.d(),K&&K.d(),A=!1,k(W)}}}function M(e){let t;return{c(){t=s("div"),this.h()},l(e){t=l(e,"DIV",{class:!0}),i(t).forEach(r),this.h()},h(){n(t,"class","card loading svelte-6s7na8")},m(e,a){c(e,t,a)},d(e){e&&r(t)}}}function A(e){let t,a,v,y,E,b,w,x,I,k,D,V,R,j,T;function B(e,t){return e[1]&&0!==e[1].length?N:P}let O=B(e),S=O(e);return{c(){t=s("script"),v=s("link"),y=p(),E=s("div"),b=s("div"),w=s("h2"),x=h("Talks of the Spirit"),k=p(),D=s("input"),V=p(),R=s("div"),S.c(),this.h()},l(e){const a=m('[data-svelte="svelte-hk14qd"]',document.head);t=l(a,"SCRIPT",{src:!0}),i(t).forEach(r),v=l(a,"LINK",{rel:!0,href:!0}),a.forEach(r),y=d(e),E=l(e,"DIV",{class:!0});var s=i(E);b=l(s,"DIV",{class:!0});var n=i(b);w=l(n,"H2",{class:!0,title:!0});var c=i(w);x=u(c,"Talks of the Spirit"),c.forEach(r),k=d(n),D=l(n,"INPUT",{type:!0,class:!0,placeholder:!0}),n.forEach(r),s.forEach(r),V=d(e),R=l(e,"DIV",{class:!0});var o=i(R);S.l(o),o.forEach(r),this.h()},h(){t.src!==(a="https://cdn.plyr.io/3.6.2/plyr.js")&&n(t,"src","https://cdn.plyr.io/3.6.2/plyr.js"),n(v,"rel","stylesheet"),n(v,"href","https://cdn.plyr.io/3.6.2/plyr.css"),n(w,"class","filter-label flex-grow svelte-6s7na8"),n(w,"title",I=e[1].length),n(D,"type","search"),n(D,"class","filter svelte-6s7na8"),n(D,"placeholder","filter title or author"),n(b,"class","medianav flex svelte-6s7na8"),n(E,"class","navcontainer svelte-6s7na8"),n(R,"class","mediastuff relative flex flex-wrap w-full justify-center")},m(a,s){g(document.head,t),g(document.head,v),c(a,y,s),c(a,E,s),g(E,b),g(b,w),g(w,x),g(b,k),g(b,D),c(a,V,s),c(a,R,s),S.m(R,null),j||(T=f(D,"input",e[6]),j=!0)},p(e,[t]){2&t&&I!==(I=e[1].length)&&n(w,"title",I),O===(O=B(e))&&S?S.p(e,t):(S.d(1),S=O(e),S&&(S.c(),S.m(R,null)))},i:o,o:o,d(e){r(t),r(v),e&&r(y),e&&r(E),e&&r(V),e&&r(R),S.d(),j=!1,T()}}}function W(e){return e.toLowerCase().replace(new RegExp(/\s/g),"").replace(new RegExp(/[àáâãäå]/g),"a").replace(new RegExp(/æ/g),"ae").replace(new RegExp(/ç/g),"c").replace(new RegExp(/[èéêë]/g),"e").replace(new RegExp(/[ìíîï]/g),"i").replace(new RegExp(/ñ/g),"n").replace(new RegExp(/[òóôõö]/g),"o").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/[ùúûü]/g),"u").replace(new RegExp(/[ýÿ]/g),"y").replace(new RegExp(/\W/g),"").normalize("NFD").replace(/['"‘’“”\u0300-\u036f]/g,"")}function J(e,t,a){let s;v(e,R,e=>a(9,s=e));const{open:l}=y("simple-modal");let i;const r=e=>{clearTimeout(i),i=setTimeout(()=>{let t=W(e);t.length<2&&(t=""),a(1,o=Object.values(p).concat(Object.values(c).filter(e=>!p[e.meta.id])).filter(e=>e.meta.filtertext.match(t)))},250)};function n(){let e=Object.keys(p);localStorage.setItem("st_pinned_talks",JSON.stringify(e))}E((function e(){window&&c&&Object.keys(c).length&&window.localStorage?function(){let e,t;a(0,p={}),e=localStorage.getItem("st_pinned_talks"),e&&(t=JSON.parse(e)||[]),t&&t.forEach(e=>a(0,p[e]=c[e],p))}():setTimeout(e,1e3)}));let c,o,p;return e.$$.update=()=>{512&e.$$.dirty&&a(8,c=((e,t={})=>((e=e.sort(()=>.5-Math.random())).forEach(e=>{e.isPinned=!!p[e.meta.id],e.image.src=(e.image.src||"").replace(/hqdefault/,"mqdefault").replace(/\/default/,"/mqdefault"),e.title=e.title.replace(/Bah[a|á][\'|’|‘]?[i|í]/gi,"Bahá’í").replace(/Bah[a|á][\'|’|‘]?[u|o][\'|’|‘]?ll[a|á]h/gi,"Bahá’u’lláh").replace(/Bab/,"Báb").replace(/[\'|‘']?Abd[u|o][\'|’|‘]?l[\-| ][B|b]ah[a|á]/i,"‘Abdu’l-Bahá").replace(/q[u|o]r[\'|’|‘]?[a|á]n/i,"Qur’án").replace(/\'s /,"’s "),e.meta.filtertext=W(e.meta.filtertext),t[e.meta.id]=e}),t))(s.archive)),257&e.$$.dirty&&a(1,o=Object.values(p).concat(Object.values(c).filter(e=>!p[e.meta.id])))},a(0,p={}),[p,o,e=>{l(O,{item:e},{styleWindow:{background:"rgba(200,200,200, 0.96)",padding:"0","border-radius":"5px",width:"80%",overflow:"hidden"},styleContent:{padding:"0",margin:"0"},closeButton:!1})},r,function(e){a(8,c[e].isPinned=!0,c),a(0,p[e]=c[e],p),n()},function(e){a(8,c[e].isPinned=!1,c),delete p[e],n()},({target:{value:e}})=>r(e)]}export default class extends e{constructor(e){super(),t(this,e,J,A,a,{})}}
