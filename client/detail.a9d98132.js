import{S as e,i as s,s as t,a as r,C as a,q as o,d as n,c as i,k as u,v as c,D as l,r as d,E as f,e as m,t as p,b as h,f as D,g as S,l as $,n as g,y as C,z as j,A as v,B as I,m as z}from"./client.f661b37e.js";import"./getUrl.1df57fa7.js";import{g as E}from"./getSessions.87acd7e0.js";import"./SessionList.18244590.js";import"./Debug.ac838e80.js";import{S as w}from"./SignupForm.49e822ff.js";function x(e){let s,t,a,o,c;return{c(){s=m("h1"),t=p("Not Found"),a=r(),o=m("p"),c=p("The requested course was not found.")},l(e){s=h(e,"H1",{});var r=D(s);t=S(r,"Not Found"),r.forEach(n),a=i(e),o=h(e,"P",{});var u=D(o);c=S(u,"The requested course was not found."),u.forEach(n)},m(e,r){u(e,s,r),$(s,t),u(e,a,r),u(e,o,r),$(o,c)},p:g,i:g,o:g,d(e){e&&n(s),e&&n(a),e&&n(o)}}}function b(e){let s,t,o,g,C,j,v,I,E=e[2].Title+"",w=e[2].Description+"",x=e[0].length&&q(e);return{c(){s=m("h1"),t=p(E),o=r(),g=m("p"),C=p(w),j=r(),x&&x.c(),v=a()},l(e){s=h(e,"H1",{});var r=D(s);t=S(r,E),r.forEach(n),o=i(e),g=h(e,"P",{});var u=D(g);C=S(u,w),u.forEach(n),j=i(e),x&&x.l(e),v=a()},m(e,r){u(e,s,r),$(s,t),u(e,o,r),u(e,g,r),$(g,C),u(e,j,r),x&&x.m(e,r),u(e,v,r),I=!0},p(e,s){(!I||4&s)&&E!==(E=e[2].Title+"")&&z(t,E),(!I||4&s)&&w!==(w=e[2].Description+"")&&z(C,w),e[0].length?x?(x.p(e,s),1&s&&d(x,1)):(x=q(e),x.c(),d(x,1),x.m(v.parentNode,v)):x&&(f(),c(x,1,1,()=>{x=null}),l())},i(e){I||(d(x),I=!0)},o(e){c(x),I=!1},d(e){e&&n(s),e&&n(o),e&&n(g),e&&n(j),x&&x.d(e),e&&n(v)}}}function q(e){let s,t;return s=new w({props:{sessions:e[0],course:e[2],StartDate:e[1]}}),{c(){C(s.$$.fragment)},l(e){j(s.$$.fragment,e)},m(e,r){v(s,e,r),t=!0},p(e,t){const r={};1&t&&(r.sessions=e[0]),4&t&&(r.course=e[2]),2&t&&(r.StartDate=e[1]),s.$set(r)},i(e){t||(d(s.$$.fragment,e),t=!0)},o(e){c(s.$$.fragment,e),t=!1},d(e){I(s,e)}}}function y(e){let s,t,m,p,h;const D=[b,x],S=[];function $(e,s){return e[2]?0:1}return t=$(e),m=S[t]=D[t](e),{c(){s=r(),m.c(),p=a(),this.h()},l(e){o('[data-svelte="svelte-1o3mu8b"]',document.head).forEach(n),s=i(e),m.l(e),p=a(),this.h()},h(){document.title="Course Detail"},m(e,r){u(e,s,r),S[t].m(e,r),u(e,p,r),h=!0},p(e,[s]){let r=t;t=$(e),t===r?S[t].p(e,s):(f(),c(S[r],1,1,()=>{S[r]=null}),l(),m=S[t],m||(m=S[t]=D[t](e),m.c()),d(m,1),m.m(p.parentNode,p))},i(e){h||(d(m),h=!0)},o(e){c(m),h=!1},d(e){e&&n(s),S[t].d(e),e&&n(p)}}}async function N({params:e,query:s}){const t=await this.fetch("courses.json").then(e=>e.json()).then(e=>e.reduce((e,s)=>(-1===e.indexOf(s.meta.id)&&e.push(s.meta.id),e),[])),r=s.id;-1!==t.indexOf(r)&&this.redirect(301,"/courses/"+r);const a=s.date;let o=await E(),n=o.filter(e=>e.CourseID===r&&(!a||e.StartDate===a))[0]||!1;return{CourseID:r,StartDate:a,sessions:o,s:n,noSerialize:()=>{}}}function T(e,s,t){let{StartDate:r=""}=s,{CourseID:a}=s,{sessions:o}=s,{s:n}=s,{noSerialize:i}=s;return i(),e.$$set=e=>{"StartDate"in e&&t(1,r=e.StartDate),"CourseID"in e&&t(3,a=e.CourseID),"sessions"in e&&t(0,o=e.sessions),"s"in e&&t(2,n=e.s),"noSerialize"in e&&t(4,i=e.noSerialize)},e.$$.update=()=>{9&e.$$.dirty&&t(0,o=o.filter(e=>e.CourseID===a&&e.Confirmed))},[o,r,n,a,i]}export default class extends e{constructor(e){super(),s(this,e,T,y,t,{StartDate:1,CourseID:3,sessions:0,s:2,noSerialize:4})}}export{N as preload};
